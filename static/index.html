<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IconsAI Scraping - Business Intelligence Brasil</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2306b6d4' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M12 2a10 10 0 0 1 0 20'/%3E%3Cpath d='M12 2a10 10 0 0 0 0 20'/%3E%3Cpath d='M2 12h20'/%3E%3C/svg%3E">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            950: '#0a0e1a',
                            900: '#0f1629',
                            800: '#141b2d',
                            700: '#1a2235',
                            600: '#242d42'
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(6, 182, 212, 0.15)',
                        'glow-lg': '0 0 40px rgba(6, 182, 212, 0.2)'
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', system-ui, sans-serif; }
        .loading { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .tab-active { border-bottom: 2px solid #06b6d4; color: #06b6d4; }
        .card { background: linear-gradient(135deg, #141b2d 0%, #1a2235 100%); }
        .btn-primary { background: linear-gradient(135deg, #0891b2 0%, #06b6d4 100%); }
        .btn-primary:hover { background: linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%); }
        input:focus, select:focus { box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.3); }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f1629; }
        ::-webkit-scrollbar-thumb { background: #242d42; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #2d3748; }
    </style>
</head>
<body class="bg-dark-950 text-gray-100 min-h-screen">
    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-dark-950/95 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="card rounded-2xl shadow-glow-lg p-8 w-full max-w-md mx-4 border border-cyan-500/10">
            <div class="text-center mb-8">
                <div class="w-16 h-16 mx-auto mb-4 rounded-xl bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 flex items-center justify-center border border-cyan-500/20">
                    <svg class="w-8 h-8 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 2a10 10 0 0 1 0 20"/>
                        <path d="M12 2a10 10 0 0 0 0 20"/>
                        <path d="M2 12h20"/>
                    </svg>
                </div>
                <h1 class="text-2xl font-bold text-white">IconsAI Scraping</h1>
                <p class="text-gray-400 mt-2">Business Intelligence Brasil</p>
            </div>
            <form id="loginForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                    <input type="email" id="email" required
                        class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                        placeholder="seu@email.com" value="admin@iconsai.ai">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Senha</label>
                    <input type="password" id="password" required
                        class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                        placeholder="********" value="admin123">
                </div>
                <div id="loginError" class="hidden text-red-400 text-sm text-center py-2"></div>
                <button type="submit"
                    class="w-full btn-primary text-white py-3 rounded-lg font-semibold transition duration-200 shadow-glow">
                    Entrar
                </button>
            </form>
            <p class="text-center text-gray-500 text-xs mt-6">v2.0</p>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="fixed inset-0 bg-dark-950/95 flex items-center justify-center z-50 backdrop-blur-sm hidden">
        <div class="card rounded-2xl shadow-glow-lg p-8 w-full max-w-md mx-4 border border-cyan-500/10">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-bold text-white">Editar Perfil</h2>
                <button onclick="closeProfileModal()" class="text-gray-500 hover:text-white transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <form id="profileForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Nome</label>
                    <input type="text" id="profileName"
                        class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                        placeholder="Seu nome">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                    <input type="email" id="profileEmail"
                        class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                        placeholder="seu@email.com">
                </div>
                <div class="border-t border-dark-600 pt-4 mt-4">
                    <p class="text-xs text-gray-500 mb-4">Deixe em branco para manter a senha atual</p>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Senha Atual</label>
                            <input type="password" id="profileCurrentPassword"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                                placeholder="********">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">Nova Senha</label>
                            <input type="password" id="profileNewPassword"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-500 focus:border-cyan-500/50 focus:outline-none transition"
                                placeholder="********">
                        </div>
                    </div>
                </div>
                <div id="profileError" class="hidden text-red-400 text-sm text-center py-2"></div>
                <div id="profileSuccess" class="hidden text-emerald-400 text-sm text-center py-2"></div>
                <div class="flex space-x-3 pt-2">
                    <button type="button" onclick="closeProfileModal()"
                        class="flex-1 bg-dark-600 hover:bg-dark-500 text-white py-3 rounded-lg font-semibold transition duration-200">
                        Cancelar
                    </button>
                    <button type="submit"
                        class="flex-1 btn-primary text-white py-3 rounded-lg font-semibold transition duration-200 shadow-glow">
                        Salvar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <!-- Header -->
        <header class="bg-dark-900 border-b border-dark-700 sticky top-0 z-40">
            <div class="container mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 flex items-center justify-center border border-cyan-500/20">
                            <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 2a10 10 0 0 1 0 20"/>
                                <path d="M12 2a10 10 0 0 0 0 20"/>
                                <path d="M2 12h20"/>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-lg font-semibold text-white">IconsAI Scraping</h1>
                            <p class="text-xs text-gray-500">Business Intelligence</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button onclick="openProfileModal()" class="flex items-center space-x-2 px-4 py-2 text-sm text-gray-400 hover:text-white border border-dark-600 rounded-lg hover:border-cyan-500/50 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            <span id="userEmail"></span>
                        </button>
                        <button onclick="logout()" class="px-4 py-2 text-sm text-gray-400 hover:text-white border border-dark-600 rounded-lg hover:border-red-500/50 transition">
                            Sair
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-6 py-8">
            <!-- Stats Cards -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <div class="card rounded-xl p-5 border border-dark-600 hover:border-cyan-500/30 transition">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-wide">Empresas</p>
                            <p class="text-2xl font-bold text-white mt-1" id="statEmpresas">0</p>
                        </div>
                        <div class="w-10 h-10 rounded-lg bg-cyan-500/10 flex items-center justify-center">
                            <svg class="w-5 h-5 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card rounded-xl p-5 border border-dark-600 hover:border-emerald-500/30 transition">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-wide">Pessoas</p>
                            <p class="text-2xl font-bold text-white mt-1" id="statPessoas">0</p>
                        </div>
                        <div class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center">
                            <svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card rounded-xl p-5 border border-dark-600 hover:border-violet-500/30 transition">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-wide">Politicos</p>
                            <p class="text-2xl font-bold text-white mt-1" id="statPoliticos">0</p>
                        </div>
                        <div class="w-10 h-10 rounded-lg bg-violet-500/10 flex items-center justify-center">
                            <svg class="w-5 h-5 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="card rounded-xl p-5 border border-dark-600 hover:border-amber-500/30 transition">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-xs text-gray-500 uppercase tracking-wide">Noticias</p>
                            <p class="text-2xl font-bold text-white mt-1" id="statNoticias">0</p>
                        </div>
                        <div class="w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center">
                            <svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabs Container -->
            <div class="card rounded-2xl border border-dark-600 overflow-hidden">
                <!-- Tab Navigation -->
                <div class="border-b border-dark-600 bg-dark-800/50">
                    <nav class="flex">
                        <button onclick="showTab('empresas')" id="tabEmpresas"
                            class="tab-btn flex items-center space-x-2 px-6 py-4 text-sm font-medium tab-active transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                            <span>Empresas</span>
                        </button>
                        <button onclick="showTab('pessoas')" id="tabPessoas"
                            class="tab-btn flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-300 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            <span>Pessoas</span>
                        </button>
                        <button onclick="showTab('politicos')" id="tabPoliticos"
                            class="tab-btn flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-300 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"/>
                            </svg>
                            <span>Politicos</span>
                        </button>
                        <button onclick="showTab('noticias')" id="tabNoticias"
                            class="tab-btn flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-300 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
                            </svg>
                            <span>Noticias</span>
                        </button>
                    </nav>
                </div>

                <!-- Tab Content: Empresas -->
                <div id="contentEmpresas" class="p-6">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-white">Analise de Empresas</h2>
                        <p class="text-sm text-gray-500 mt-1">SWOT, OKRs, concorrentes e funcionarios</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Nome da Empresa</label>
                            <input type="text" id="empresaNome" placeholder="Ex: Nubank, Magazine Luiza"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">CNPJ (opcional)</label>
                            <input type="text" id="empresaCnpj" placeholder="00.000.000/0000-00"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                    </div>

                    <div class="flex items-center space-x-6 mb-6">
                        <label class="flex items-center cursor-pointer">
                            <input type="checkbox" id="includeCompetitors" checked class="w-4 h-4 rounded border-dark-600 bg-dark-800 text-cyan-500 focus:ring-cyan-500/30">
                            <span class="ml-2 text-sm text-gray-400">Incluir concorrentes</span>
                        </label>
                        <label class="flex items-center cursor-pointer">
                            <input type="checkbox" id="includeEmployees" checked class="w-4 h-4 rounded border-dark-600 bg-dark-800 text-cyan-500 focus:ring-cyan-500/30">
                            <span class="ml-2 text-sm text-gray-400">Incluir funcionarios</span>
                        </label>
                    </div>

                    <div class="flex flex-wrap gap-3 mb-6">
                        <button onclick="analyzeCompany()"
                            class="btn-primary text-white px-5 py-2.5 rounded-lg text-sm font-medium transition shadow-glow flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <span>Analise Completa</span>
                        </button>
                        <button onclick="quickLookupCompany()"
                            class="bg-dark-600 hover:bg-dark-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            <span>Busca Rapida</span>
                        </button>
                        <button onclick="getSwot()"
                            class="bg-dark-600 hover:bg-dark-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            <span>Apenas SWOT</span>
                        </button>
                    </div>

                    <div id="empresasResults"></div>
                </div>

                <!-- Tab Content: Pessoas -->
                <div id="contentPessoas" class="p-6 hidden">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-white">Analise de Pessoas</h2>
                        <p class="text-sm text-gray-500 mt-1">Perfil profissional, fit cultural e comparacao</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Nome da Pessoa</label>
                            <input type="text" id="pessoaNome" placeholder="Nome completo"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Empresa (opcional)</label>
                            <input type="text" id="pessoaEmpresa" placeholder="Empresa atual"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Cargo (opcional)</label>
                            <input type="text" id="pessoaCargo" placeholder="Cargo atual"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-3 mb-8">
                        <button onclick="analyzePerson()"
                            class="btn-primary text-white px-5 py-2.5 rounded-lg text-sm font-medium transition shadow-glow flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <span>Analise Completa</span>
                        </button>
                        <button onclick="quickLookupPerson()"
                            class="bg-dark-600 hover:bg-dark-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            <span>Busca Rapida</span>
                        </button>
                    </div>

                    <div class="border-t border-dark-600 pt-6">
                        <h3 class="text-md font-semibold text-white mb-4">Analise de Fit Cultural</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Nome do Candidato</label>
                                <input type="text" id="fitPessoa" placeholder="Nome do candidato"
                                    class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Empresa Alvo</label>
                                <input type="text" id="fitEmpresa" placeholder="Empresa para fit"
                                    class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">Cargo</label>
                                <input type="text" id="fitCargo" placeholder="Cargo em questao"
                                    class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                            </div>
                        </div>
                        <button onclick="analyzeFit()"
                            class="bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <span>Analisar Fit</span>
                        </button>
                    </div>

                    <div id="pessoasResults" class="mt-6"></div>
                </div>

                <!-- Tab Content: Politicos -->
                <div id="contentPoliticos" class="p-6 hidden">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-white">Analise de Politicos</h2>
                        <p class="text-sm text-gray-500 mt-1">Perfil pessoal, redes sociais e percepcao publica</p>
                    </div>

                    <div class="bg-amber-500/10 border border-amber-500/20 rounded-lg p-4 mb-6">
                        <div class="flex items-start space-x-3">
                            <svg class="w-5 h-5 text-amber-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                            </svg>
                            <p class="text-amber-200 text-sm">Esta analise foca no perfil <strong>pessoal</strong> do politico, nao em posicoes politicas ou votacoes.</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Nome do Politico</label>
                            <input type="text" id="politicoNome" placeholder="Nome completo"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Cargo (opcional)</label>
                            <select id="politicoCargo"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white focus:border-cyan-500/50 focus:outline-none transition">
                                <option value="">Selecione...</option>
                                <option value="prefeito">Prefeito</option>
                                <option value="governador">Governador</option>
                                <option value="senador">Senador</option>
                                <option value="deputado federal">Deputado Federal</option>
                                <option value="deputado estadual">Deputado Estadual</option>
                                <option value="vereador">Vereador</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Estado (opcional)</label>
                            <input type="text" id="politicoEstado" placeholder="Ex: SP, RJ, MG"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-3 mb-6">
                        <button onclick="analyzePolitician()"
                            class="btn-primary text-white px-5 py-2.5 rounded-lg text-sm font-medium transition shadow-glow flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <span>Analise Completa</span>
                        </button>
                        <button onclick="quickLookupPolitician()"
                            class="bg-dark-600 hover:bg-dark-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            <span>Busca Rapida</span>
                        </button>
                        <button onclick="getPerception()"
                            class="bg-violet-600 hover:bg-violet-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            <span>Percepcao Publica</span>
                        </button>
                    </div>

                    <div id="politicosResults"></div>
                </div>

                <!-- Tab Content: Noticias -->
                <div id="contentNoticias" class="p-6 hidden">
                    <div class="mb-6">
                        <h2 class="text-lg font-semibold text-white">Monitoramento de Noticias</h2>
                        <p class="text-sm text-gray-500 mt-1">Busca de noticias, cenario economico e alertas</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Termo de Busca</label>
                            <input type="text" id="noticiaQuery" placeholder="Ex: economia brasil, tecnologia"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-600 focus:border-cyan-500/50 focus:outline-none transition">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-2">Periodo</label>
                            <select id="noticiaDias"
                                class="w-full px-4 py-3 bg-dark-800 border border-dark-600 rounded-lg text-white focus:border-cyan-500/50 focus:outline-none transition">
                                <option value="1">Ultimo dia</option>
                                <option value="7" selected>Ultima semana</option>
                                <option value="30">Ultimo mes</option>
                            </select>
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-3 mb-6">
                        <button onclick="searchNews()"
                            class="btn-primary text-white px-5 py-2.5 rounded-lg text-sm font-medium transition shadow-glow flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                            </svg>
                            <span>Buscar Noticias</span>
                        </button>
                        <button onclick="getEconomicScenario()"
                            class="bg-emerald-600 hover:bg-emerald-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                            </svg>
                            <span>Cenario Economico</span>
                        </button>
                        <button onclick="getTrends()"
                            class="bg-amber-600 hover:bg-amber-500 text-white px-5 py-2.5 rounded-lg text-sm font-medium transition flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"/>
                            </svg>
                            <span>Trending</span>
                        </button>
                    </div>

                    <div id="noticiasResults"></div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="text-center py-8 border-t border-dark-800">
            <p class="text-gray-600 text-sm">IconsAI Scraping v2.0</p>
            <p class="text-gray-700 text-xs mt-1">BrasilAPI + Serper + Tavily + Perplexity + Apollo + Claude</p>
        </footer>
    </div>

    <script>
        const API_URL = '';
        let token = localStorage.getItem('token');

        if (token) showApp();

        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            try {
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({email, password})
                });

                if (response.ok) {
                    const data = await response.json();
                    token = data.access_token;
                    localStorage.setItem('token', token);
                    localStorage.setItem('userEmail', email);
                    showApp();
                } else {
                    document.getElementById('loginError').textContent = 'Email ou senha incorretos';
                    document.getElementById('loginError').classList.remove('hidden');
                }
            } catch (error) {
                document.getElementById('loginError').textContent = 'Erro ao conectar';
                document.getElementById('loginError').classList.remove('hidden');
            }
        });

        function showApp() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            const userName = localStorage.getItem('userName');
            const userEmail = localStorage.getItem('userEmail');
            document.getElementById('userEmail').textContent = userName || userEmail || '';
            updateStats();
        }

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('userEmail');
            localStorage.removeItem('userName');
            location.reload();
        }

        async function openProfileModal() {
            document.getElementById('profileModal').classList.remove('hidden');
            document.getElementById('profileError').classList.add('hidden');
            document.getElementById('profileSuccess').classList.add('hidden');
            document.getElementById('profileCurrentPassword').value = '';
            document.getElementById('profileNewPassword').value = '';

            try {
                const user = await apiCall('/auth/me');
                document.getElementById('profileName').value = user.name || '';
                document.getElementById('profileEmail').value = user.email || '';
            } catch (error) {
                console.error('Error loading profile:', error);
            }
        }

        function closeProfileModal() {
            document.getElementById('profileModal').classList.add('hidden');
        }

        document.getElementById('profileForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('profileName').value;
            const email = document.getElementById('profileEmail').value;
            const currentPassword = document.getElementById('profileCurrentPassword').value;
            const newPassword = document.getElementById('profileNewPassword').value;

            const updateData = {};
            if (name) updateData.name = name;
            if (email) updateData.email = email;
            if (currentPassword && newPassword) {
                updateData.current_password = currentPassword;
                updateData.new_password = newPassword;
            }

            try {
                const response = await fetch(`${API_URL}/auth/me`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(updateData)
                });

                if (response.ok) {
                    const data = await response.json();
                    token = data.access_token;
                    localStorage.setItem('token', token);
                    localStorage.setItem('userEmail', email);
                    localStorage.setItem('userName', name);
                    document.getElementById('userEmail').textContent = name || email;
                    document.getElementById('profileSuccess').textContent = 'Perfil atualizado com sucesso!';
                    document.getElementById('profileSuccess').classList.remove('hidden');
                    document.getElementById('profileError').classList.add('hidden');
                    setTimeout(() => closeProfileModal(), 1500);
                } else {
                    const error = await response.json();
                    document.getElementById('profileError').textContent = error.detail || 'Erro ao atualizar perfil';
                    document.getElementById('profileError').classList.remove('hidden');
                    document.getElementById('profileSuccess').classList.add('hidden');
                }
            } catch (error) {
                document.getElementById('profileError').textContent = 'Erro ao conectar';
                document.getElementById('profileError').classList.remove('hidden');
            }
        });

        function showTab(tab) {
            document.querySelectorAll('[id^="content"]').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('tab-active');
                el.classList.add('border-transparent', 'text-gray-500');
            });
            document.getElementById('content' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.remove('hidden');
            const tabEl = document.getElementById('tab' + tab.charAt(0).toUpperCase() + tab.slice(1));
            tabEl.classList.add('tab-active');
            tabEl.classList.remove('border-transparent', 'text-gray-500');
        }

        function showLoading(elementId, message = 'Processando...') {
            document.getElementById(elementId).innerHTML = `
                <div class="text-center py-12">
                    <div class="loading w-8 h-8 mx-auto mb-4 border-2 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"></div>
                    <p class="text-gray-500 text-sm">${message}</p>
                </div>
            `;
        }

        function showError(elementId, error) {
            document.getElementById(elementId).innerHTML = `
                <div class="bg-red-500/10 border border-red-500/20 rounded-lg p-4">
                    <div class="flex items-start space-x-3">
                        <svg class="w-5 h-5 text-red-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <p class="text-red-300 text-sm">${error}</p>
                    </div>
                </div>
            `;
        }

        async function apiCall(endpoint, method = 'GET', body = null) {
            const options = {
                method,
                headers: {
                    'Authorization': `Bearer ${token}`,
                    'Content-Type': 'application/json'
                }
            };
            if (body) options.body = JSON.stringify(body);
            const response = await fetch(`${API_URL}${endpoint}`, options);
            if (!response.ok) {
                const error = await response.json();
                throw new Error(error.detail || 'Erro na requisicao');
            }
            return response.json();
        }

        // ===========================================
        // EMPRESAS
        // ===========================================

        async function analyzeCompany() {
            const name = document.getElementById('empresaNome').value;
            if (!name) return alert('Digite o nome da empresa');

            showLoading('empresasResults', 'Analisando empresa...');
            incrementStat('Empresas');

            try {
                const data = await apiCall('/api/v2/company/analyze', 'POST', {
                    name,
                    cnpj: document.getElementById('empresaCnpj').value || null,
                    include_competitors: document.getElementById('includeCompetitors').checked,
                    include_employees: document.getElementById('includeEmployees').checked
                });
                displayCompanyResult(data);
            } catch (error) {
                showError('empresasResults', error.message);
            }
        }

        async function quickLookupCompany() {
            const name = document.getElementById('empresaNome').value;
            if (!name) return alert('Digite o nome da empresa');

            showLoading('empresasResults', 'Buscando empresa...');
            incrementStat('Empresas');

            try {
                const data = await apiCall('/api/v2/company/quick', 'POST', { name });
                displayQuickCompanyResult(data);
            } catch (error) {
                showError('empresasResults', error.message);
            }
        }

        async function getSwot() {
            const name = document.getElementById('empresaNome').value;
            if (!name) return alert('Digite o nome da empresa');

            showLoading('empresasResults', 'Gerando SWOT...');

            try {
                const data = await apiCall('/api/v2/company/swot', 'POST', { name });
                displaySwotResult(data);
            } catch (error) {
                showError('empresasResults', error.message);
            }
        }

        function displayCompanyResult(data) {
            const profile = data.company_profile || {};
            const swot = data.swot_analysis || {};

            let html = `
                <div class="space-y-6">
                    <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                        <div class="flex items-start justify-between">
                            <div>
                                <h3 class="font-semibold text-lg text-white">${profile.nome_fantasia || profile.name}</h3>
                                <p class="text-gray-400 text-sm mt-1">${profile.description || 'Sem descricao'}</p>
                                ${profile.cnpj ? `<p class="text-xs text-gray-500 mt-2">CNPJ: ${profile.cnpj}</p>` : ''}
                            </div>
                            ${profile.website ? `<a href="${profile.website}" target="_blank" class="text-cyan-400 text-sm hover:text-cyan-300 flex items-center space-x-1">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                </svg>
                                <span>Site</span>
                            </a>` : ''}
                        </div>
                    </div>
            `;

            if (swot.strengths) {
                html += `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-emerald-400 mb-3 flex items-center space-x-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <span>Forcas</span>
                            </h4>
                            <ul class="space-y-2 text-sm text-emerald-200">
                                ${(swot.strengths || []).map(s => `<li class="flex items-start"><span class="text-emerald-400 mr-2">â€¢</span>${s.point || s}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-red-400 mb-3 flex items-center space-x-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                                </svg>
                                <span>Fraquezas</span>
                            </h4>
                            <ul class="space-y-2 text-sm text-red-200">
                                ${(swot.weaknesses || []).map(w => `<li class="flex items-start"><span class="text-red-400 mr-2">â€¢</span>${w.point || w}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-cyan-400 mb-3 flex items-center space-x-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                </svg>
                                <span>Oportunidades</span>
                            </h4>
                            <ul class="space-y-2 text-sm text-cyan-200">
                                ${(swot.opportunities || []).map(o => `<li class="flex items-start"><span class="text-cyan-400 mr-2">â€¢</span>${o.point || o}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="bg-amber-500/10 border border-amber-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-amber-400 mb-3 flex items-center space-x-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                </svg>
                                <span>Ameacas</span>
                            </h4>
                            <ul class="space-y-2 text-sm text-amber-200">
                                ${(swot.threats || []).map(t => `<li class="flex items-start"><span class="text-amber-400 mr-2">â€¢</span>${t.point || t}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
            }

            if (data.competitors && data.competitors.competitors) {
                html += `
                    <div class="bg-violet-500/10 border border-violet-500/20 rounded-xl p-4">
                        <h4 class="font-medium text-violet-400 mb-3">Concorrentes</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            ${data.competitors.competitors.map(c => `
                                <div class="bg-dark-800 rounded-lg p-3 border border-dark-600">
                                    <p class="font-medium text-white text-sm">${c.name}</p>
                                    <p class="text-gray-500 text-xs mt-1">${c.description || ''}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            html += `
                <div class="flex items-center justify-between text-xs text-gray-600 pt-2">
                    <span>Confianca: ${Math.round((data.confidence_score || 0) * 100)}%</span>
                    <span>Fontes: ${(profile.sources || []).join(', ')}</span>
                </div>
            </div>`;

            document.getElementById('empresasResults').innerHTML = html;
        }

        function displayQuickCompanyResult(data) {
            document.getElementById('empresasResults').innerHTML = `
                <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="font-semibold text-lg text-white">${data.nome_fantasia || data.name}</h3>
                            <p class="text-gray-400 text-sm mt-1">${data.description || 'Sem descricao'}</p>
                            ${data.cnpj ? `<p class="text-xs text-gray-500 mt-2">CNPJ: ${data.cnpj}</p>` : ''}
                            ${data.industry ? `<p class="text-xs text-gray-500">Setor: ${data.industry}</p>` : ''}
                        </div>
                        <div class="flex flex-col items-end space-y-2">
                            ${data.situacao_cadastral ? `<span class="px-2 py-1 bg-emerald-500/20 text-emerald-400 text-xs rounded">${data.situacao_cadastral}</span>` : ''}
                            ${data.website ? `<a href="${data.website}" target="_blank" class="text-cyan-400 text-sm hover:text-cyan-300">${data.website}</a>` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function displaySwotResult(data) {
            let html = `<div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;

            html += `
                <div class="bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4">
                    <h4 class="font-medium text-emerald-400 mb-3">Forcas</h4>
                    <ul class="space-y-2 text-sm text-emerald-200">
                        ${(data.strengths || []).map(s => `<li class="flex items-start"><span class="text-emerald-400 mr-2">â€¢</span>${s.point || s}</li>`).join('')}
                    </ul>
                </div>
                <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-4">
                    <h4 class="font-medium text-red-400 mb-3">Fraquezas</h4>
                    <ul class="space-y-2 text-sm text-red-200">
                        ${(data.weaknesses || []).map(w => `<li class="flex items-start"><span class="text-red-400 mr-2">â€¢</span>${w.point || w}</li>`).join('')}
                    </ul>
                </div>
                <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                    <h4 class="font-medium text-cyan-400 mb-3">Oportunidades</h4>
                    <ul class="space-y-2 text-sm text-cyan-200">
                        ${(data.opportunities || []).map(o => `<li class="flex items-start"><span class="text-cyan-400 mr-2">â€¢</span>${o.point || o}</li>`).join('')}
                    </ul>
                </div>
                <div class="bg-amber-500/10 border border-amber-500/20 rounded-xl p-4">
                    <h4 class="font-medium text-amber-400 mb-3">Ameacas</h4>
                    <ul class="space-y-2 text-sm text-amber-200">
                        ${(data.threats || []).map(t => `<li class="flex items-start"><span class="text-amber-400 mr-2">â€¢</span>${t.point || t}</li>`).join('')}
                    </ul>
                </div>
            `;

            html += `</div>`;
            if (data.summary) {
                html += `<div class="mt-4 p-4 bg-dark-800 rounded-xl border border-dark-600"><p class="text-gray-300 text-sm">${data.summary}</p></div>`;
            }

            document.getElementById('empresasResults').innerHTML = html;
        }

        // ===========================================
        // PESSOAS
        // ===========================================

        async function analyzePerson() {
            const name = document.getElementById('pessoaNome').value;
            if (!name) return alert('Digite o nome da pessoa');

            showLoading('pessoasResults', 'Analisando pessoa...');
            incrementStat('Pessoas');

            try {
                const data = await apiCall('/api/v2/person/analyze', 'POST', {
                    name,
                    company: document.getElementById('pessoaEmpresa').value || null,
                    role: document.getElementById('pessoaCargo').value || null
                });
                displayPersonResult(data);
            } catch (error) {
                showError('pessoasResults', error.message);
            }
        }

        async function quickLookupPerson() {
            const name = document.getElementById('pessoaNome').value;
            if (!name) return alert('Digite o nome da pessoa');

            showLoading('pessoasResults', 'Buscando pessoa...');
            incrementStat('Pessoas');

            try {
                const data = await apiCall('/api/v2/person/quick', 'POST', {
                    name,
                    company: document.getElementById('pessoaEmpresa').value || null
                });
                displayQuickPersonResult(data);
            } catch (error) {
                showError('pessoasResults', error.message);
            }
        }

        async function analyzeFit() {
            const person = document.getElementById('fitPessoa').value;
            const company = document.getElementById('fitEmpresa').value;
            if (!person || !company) return alert('Preencha nome e empresa');

            showLoading('pessoasResults', 'Analisando fit cultural...');

            try {
                const data = await apiCall('/api/v2/person/fit-analysis', 'POST', {
                    person_name: person,
                    company_name: company,
                    role: document.getElementById('fitCargo').value || null
                });
                displayFitResult(data);
            } catch (error) {
                showError('pessoasResults', error.message);
            }
        }

        function displayPersonResult(data) {
            const profile = data.profile || {};
            const analysis = data.ai_analysis || {};

            let html = `
                <div class="space-y-4">
                    <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                        <div class="flex items-start space-x-4">
                            ${profile.photo_url ? `<img src="${profile.photo_url}" class="w-16 h-16 rounded-xl object-cover">` : '<div class="w-16 h-16 bg-emerald-500/20 rounded-xl flex items-center justify-center"><svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg></div>'}
                            <div class="flex-1">
                                <h3 class="font-semibold text-lg text-white">${profile.full_name || profile.name}</h3>
                                <p class="text-gray-400 text-sm">${profile.current_title || ''} ${profile.current_company ? 'na ' + profile.current_company : ''}</p>
                                ${profile.linkedin_url ? `<a href="${profile.linkedin_url}" target="_blank" class="text-cyan-400 text-sm hover:text-cyan-300 mt-2 inline-block">LinkedIn</a>` : ''}
                            </div>
                        </div>
                    </div>
            `;

            if (analysis.profile_summary) {
                html += `
                    <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                        <h4 class="font-medium text-cyan-400 mb-2">Resumo</h4>
                        <p class="text-sm text-cyan-200">${analysis.profile_summary}</p>
                    </div>
                `;
            }

            if (analysis.strengths) {
                html += `
                    <div class="bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-4">
                        <h4 class="font-medium text-emerald-400 mb-2">Pontos Fortes</h4>
                        <ul class="space-y-1 text-sm text-emerald-200">
                            ${(analysis.strengths || []).map(s => `<li class="flex items-start"><span class="text-emerald-400 mr-2">â€¢</span>${s}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }

            html += '</div>';
            document.getElementById('pessoasResults').innerHTML = html;
        }

        function displayQuickPersonResult(data) {
            document.getElementById('pessoasResults').innerHTML = `
                <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                    <div class="flex items-start space-x-4">
                        ${data.photo_url ? `<img src="${data.photo_url}" class="w-16 h-16 rounded-xl object-cover">` : '<div class="w-16 h-16 bg-emerald-500/20 rounded-xl flex items-center justify-center"><svg class="w-8 h-8 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg></div>'}
                        <div class="flex-1">
                            <h3 class="font-semibold text-lg text-white">${data.name}</h3>
                            <p class="text-gray-400 text-sm">${data.title || ''} ${data.company ? 'na ' + data.company : ''}</p>
                            <div class="flex items-center space-x-4 mt-2">
                                ${data.linkedin_url ? `<a href="${data.linkedin_url}" target="_blank" class="text-cyan-400 text-sm hover:text-cyan-300">LinkedIn</a>` : ''}
                                ${data.email ? `<span class="text-gray-500 text-sm">${data.email}</span>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function displayFitResult(data) {
            const scores = data.scores || {};

            document.getElementById('pessoasResults').innerHTML = `
                <div class="space-y-4">
                    <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                        <h3 class="font-semibold text-lg text-white mb-6">Analise de Fit: ${data.person?.name} â†’ ${data.company?.name}</h3>

                        <div class="grid grid-cols-3 gap-4">
                            <div class="text-center p-4 bg-violet-500/10 rounded-xl border border-violet-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Cultural</p>
                                <p class="text-3xl font-bold text-violet-400 mt-1">${Math.round((scores.cultural_fit || 0) * 100)}%</p>
                            </div>
                            <div class="text-center p-4 bg-cyan-500/10 rounded-xl border border-cyan-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Cargo</p>
                                <p class="text-3xl font-bold text-cyan-400 mt-1">${Math.round((scores.role_fit || 0) * 100)}%</p>
                            </div>
                            <div class="text-center p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Geral</p>
                                <p class="text-3xl font-bold text-emerald-400 mt-1">${Math.round((scores.overall_fit || 0) * 100)}%</p>
                            </div>
                        </div>
                    </div>

                    ${data.recommendation ? `
                        <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-cyan-400 mb-2">Recomendacao</h4>
                            <p class="text-sm text-cyan-200">${data.recommendation}</p>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // ===========================================
        // POLITICOS
        // ===========================================

        async function analyzePolitician() {
            const name = document.getElementById('politicoNome').value;
            if (!name) return alert('Digite o nome do politico');

            showLoading('politicosResults', 'Analisando politico...');
            incrementStat('Politicos');

            try {
                const data = await apiCall('/api/v2/politician/analyze', 'POST', {
                    name,
                    role: document.getElementById('politicoCargo').value || null,
                    state: document.getElementById('politicoEstado').value || null
                });
                displayPoliticianResult(data);
            } catch (error) {
                showError('politicosResults', error.message);
            }
        }

        async function quickLookupPolitician() {
            const name = document.getElementById('politicoNome').value;
            if (!name) return alert('Digite o nome do politico');

            showLoading('politicosResults', 'Buscando politico...');
            incrementStat('Politicos');

            try {
                const data = await apiCall('/api/v2/politician/quick', 'POST', {
                    name,
                    role: document.getElementById('politicoCargo').value || null
                });
                displayQuickPoliticianResult(data);
            } catch (error) {
                showError('politicosResults', error.message);
            }
        }

        async function getPerception() {
            const name = document.getElementById('politicoNome').value;
            if (!name) return alert('Digite o nome do politico');

            showLoading('politicosResults', 'Analisando percepcao publica...');

            try {
                const data = await apiCall(`/api/v2/politician/${encodeURIComponent(name)}/perception`);
                displayPerceptionResult(data);
            } catch (error) {
                showError('politicosResults', error.message);
            }
        }

        function displayPoliticianResult(data) {
            const profile = data.profile || {};
            const analysis = data.ai_analysis || {};
            const social = data.social_media || {};

            let html = `
                <div class="space-y-4">
                    <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                        <div class="flex items-start justify-between">
                            <div>
                                <h3 class="font-semibold text-lg text-white">${data.name}</h3>
                                <p class="text-gray-400 text-sm">${data.role || ''} ${data.state ? '- ' + data.state : ''}</p>
                            </div>
                            <div class="flex space-x-2">
                                ${social.instagram ? `<a href="${social.instagram.url || social.instagram}" target="_blank" class="w-8 h-8 rounded-lg bg-pink-500/20 flex items-center justify-center hover:bg-pink-500/30 transition"><svg class="w-4 h-4 text-pink-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>` : ''}
                                ${social.twitter ? `<a href="${social.twitter.url || social.twitter}" target="_blank" class="w-8 h-8 rounded-lg bg-sky-500/20 flex items-center justify-center hover:bg-sky-500/30 transition"><svg class="w-4 h-4 text-sky-400" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>` : ''}
                                ${social.facebook ? `<a href="${social.facebook.url || social.facebook}" target="_blank" class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center hover:bg-blue-500/30 transition"><svg class="w-4 h-4 text-blue-400" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>` : ''}
                            </div>
                        </div>
                    </div>
            `;

            if (analysis.personal_profile) {
                const pp = analysis.personal_profile;
                html += `
                    <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                        <h4 class="font-medium text-cyan-400 mb-3">Perfil Pessoal</h4>
                        ${pp.background ? `<p class="text-sm text-cyan-200 mb-2"><strong class="text-cyan-300">Historico:</strong> ${pp.background}</p>` : ''}
                        ${pp.education ? `<p class="text-sm text-cyan-200"><strong class="text-cyan-300">Formacao:</strong> ${pp.education.join(', ')}</p>` : ''}
                    </div>
                `;
            }

            if (profile.recent_news && profile.recent_news.length > 0) {
                html += `
                    <div class="bg-amber-500/10 border border-amber-500/20 rounded-xl p-4">
                        <h4 class="font-medium text-amber-400 mb-3">Noticias Recentes</h4>
                        <ul class="space-y-2">
                            ${profile.recent_news.slice(0, 5).map(n => `
                                <li>
                                    <a href="${n.link}" target="_blank" class="text-sm text-amber-200 hover:text-amber-100">${n.title}</a>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
            }

            html += '</div>';
            document.getElementById('politicosResults').innerHTML = html;
        }

        function displayQuickPoliticianResult(data) {
            const social = data.social_media || {};

            document.getElementById('politicosResults').innerHTML = `
                <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="font-semibold text-lg text-white">${data.name}</h3>
                            <p class="text-gray-400 text-sm mb-2">${data.role || ''}</p>
                            <p class="text-gray-500 text-sm">${data.description || ''}</p>
                        </div>
                        <div class="flex space-x-2">
                            ${social.instagram ? `<a href="${social.instagram.url}" target="_blank" class="w-8 h-8 rounded-lg bg-pink-500/20 flex items-center justify-center"><svg class="w-4 h-4 text-pink-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>` : ''}
                            ${social.twitter ? `<a href="${social.twitter.url}" target="_blank" class="w-8 h-8 rounded-lg bg-sky-500/20 flex items-center justify-center"><svg class="w-4 h-4 text-sky-400" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function displayPerceptionResult(data) {
            const sentiment = data.news_sentiment || {};

            document.getElementById('politicosResults').innerHTML = `
                <div class="space-y-4">
                    <div class="bg-dark-800 rounded-xl p-5 border border-dark-600">
                        <h3 class="font-semibold text-lg text-white mb-6">Percepcao Publica: ${data.name}</h3>

                        <div class="grid grid-cols-3 gap-4 mb-4">
                            <div class="text-center p-4 bg-emerald-500/10 rounded-xl border border-emerald-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Positivo</p>
                                <p class="text-3xl font-bold text-emerald-400 mt-1">${sentiment.positive || 0}</p>
                            </div>
                            <div class="text-center p-4 bg-gray-500/10 rounded-xl border border-gray-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Neutro</p>
                                <p class="text-3xl font-bold text-gray-400 mt-1">${sentiment.neutral || 0}</p>
                            </div>
                            <div class="text-center p-4 bg-red-500/10 rounded-xl border border-red-500/20">
                                <p class="text-xs text-gray-400 uppercase tracking-wide">Negativo</p>
                                <p class="text-3xl font-bold text-red-400 mt-1">${sentiment.negative || 0}</p>
                            </div>
                        </div>

                        <p class="text-xs text-gray-500">Total: ${data.total_news || 0} noticias nos ultimos ${data.analysis_period_days || 30} dias</p>
                    </div>

                    ${data.perception_analysis ? `
                        <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-cyan-400 mb-2">Analise</h4>
                            <p class="text-sm text-cyan-200">${data.perception_analysis}</p>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // ===========================================
        // NOTICIAS
        // ===========================================

        async function searchNews() {
            const query = document.getElementById('noticiaQuery').value;
            if (!query) return alert('Digite um termo de busca');

            showLoading('noticiasResults', 'Buscando noticias...');
            incrementStat('Noticias');

            try {
                const days = document.getElementById('noticiaDias').value;
                const data = await apiCall(`/api/v2/news/search?q=${encodeURIComponent(query)}&days=${days}`);
                displayNewsResult(data);
            } catch (error) {
                showError('noticiasResults', error.message);
            }
        }

        async function getEconomicScenario() {
            showLoading('noticiasResults', 'Analisando cenario economico...');

            try {
                const data = await apiCall('/api/v2/news/economic');
                displayEconomicResult(data);
            } catch (error) {
                showError('noticiasResults', error.message);
            }
        }

        async function getTrends() {
            showLoading('noticiasResults', 'Buscando tendencias...');

            try {
                const data = await apiCall('/api/v2/news/trends');
                displayTrendsResult(data);
            } catch (error) {
                showError('noticiasResults', error.message);
            }
        }

        function displayNewsResult(data) {
            const sentiment = data.sentiment_distribution || {};

            let html = `
                <div class="space-y-4">
                    <div class="flex justify-between items-center bg-dark-800 rounded-xl p-4 border border-dark-600">
                        <p class="text-gray-400 text-sm">${data.total || 0} noticias encontradas</p>
                        <div class="flex space-x-4 text-sm">
                            <span class="text-emerald-400">${sentiment.positive || 0} positivas</span>
                            <span class="text-gray-400">${sentiment.neutral || 0} neutras</span>
                            <span class="text-red-400">${sentiment.negative || 0} negativas</span>
                        </div>
                    </div>

                    ${data.summary ? `
                        <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-cyan-400 mb-2">Resumo</h4>
                            <p class="text-sm text-cyan-200">${data.summary}</p>
                        </div>
                    ` : ''}

                    <div class="space-y-3">
            `;

            (data.news || []).forEach(news => {
                const sentimentColor = news.sentiment === 'positive' ? 'emerald' : news.sentiment === 'negative' ? 'red' : 'gray';
                html += `
                    <div class="bg-dark-800 border border-dark-600 rounded-xl p-4 hover:border-dark-500 transition">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <a href="${news.url}" target="_blank" class="font-medium text-white hover:text-cyan-400 transition">${news.title}</a>
                                <p class="text-xs text-gray-500 mt-1">${news.source || ''} ${news.published_at ? 'â€¢ ' + news.published_at : ''}</p>
                            </div>
                            <span class="w-2 h-2 rounded-full bg-${sentimentColor}-400 ml-3 mt-2"></span>
                        </div>
                        <p class="text-sm text-gray-400 mt-2">${(news.content || '').substring(0, 200)}...</p>
                    </div>
                `;
            });

            html += '</div></div>';
            document.getElementById('noticiasResults').innerHTML = html;
        }

        function displayEconomicResult(data) {
            let html = `
                <div class="space-y-4">
                    ${data.overview ? `
                        <div class="bg-cyan-500/10 border border-cyan-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-cyan-400 mb-2">Visao Geral</h4>
                            <p class="text-sm text-cyan-200">${data.overview}</p>
                        </div>
                    ` : ''}

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            `;

            const aspects = data.aspects || {};
            const colors = ['emerald', 'cyan', 'violet', 'amber'];
            let i = 0;
            Object.entries(aspects).forEach(([key, value]) => {
                const color = colors[i % colors.length];
                html += `
                    <div class="bg-${color}-500/10 border border-${color}-500/20 rounded-xl p-4">
                        <h5 class="font-medium text-${color}-400 mb-2">${key.charAt(0).toUpperCase() + key.slice(1)}</h5>
                        <p class="text-sm text-${color}-200">${value.summary || 'Sem dados'}</p>
                    </div>
                `;
                i++;
            });

            html += '</div></div>';
            document.getElementById('noticiasResults').innerHTML = html;
        }

        function displayTrendsResult(data) {
            document.getElementById('noticiasResults').innerHTML = `
                <div class="space-y-4">
                    ${data.trends ? `
                        <div class="bg-amber-500/10 border border-amber-500/20 rounded-xl p-4">
                            <h4 class="font-medium text-amber-400 mb-2">Tendencias</h4>
                            <p class="text-sm text-amber-200">${data.trends}</p>
                        </div>
                    ` : ''}

                    ${data.trending_topics ? `
                        <div class="bg-dark-800 rounded-xl p-4 border border-dark-600">
                            <h4 class="font-medium text-white mb-3">Topicos em Alta</h4>
                            <div class="flex flex-wrap gap-2">
                                ${data.trending_topics.map(t => `<span class="px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg text-sm border border-violet-500/20">${t}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // ===========================================
        // UTILS
        // ===========================================

        function updateStats() {
            const stats = JSON.parse(localStorage.getItem('stats') || '{"Empresas":0,"Pessoas":0,"Politicos":0,"Noticias":0}');
            document.getElementById('statEmpresas').textContent = stats.Empresas || 0;
            document.getElementById('statPessoas').textContent = stats.Pessoas || 0;
            document.getElementById('statPoliticos').textContent = stats.Politicos || 0;
            document.getElementById('statNoticias').textContent = stats.Noticias || 0;
        }

        function incrementStat(type) {
            const stats = JSON.parse(localStorage.getItem('stats') || '{"Empresas":0,"Pessoas":0,"Politicos":0,"Noticias":0}');
            stats[type] = (stats[type] || 0) + 1;
            localStorage.setItem('stats', JSON.stringify(stats));
            updateStats();
        }
    </script>
</body>
</html>
